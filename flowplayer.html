<html>

<head>
    <meta charset="utf-8">
    <title>Buzzstarter Embeded Flash Video Test Player</title>
    <!-- optimize mobile versions -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="//releases.flowplayer.org/6.0.5/skin/functional.css">
    <!-- load the vast plugin stylesheet after the Flowplayer skin -->
    <link rel="stylesheet" href="//releases.flowplayer.org/vast/flowplayer.org/1.0.1/vast.min.css" media="screen">
    <!-- ... -->
    <script src="//releases.flowplayer.org/6.0.5/flowplayer.min.js"></script>
    <!-- load JavaScript assets after the Flowplayer library -->
    <!-- IMA sdk -->
    <script src="//s0.2mdn.net/instream/html5/ima3.js"></script>
    <!-- Flowplayer vast plugin -->
    <script src="//releases.flowplayer.org/vast/flowplayer.org/1.0.1/vast.min.js"></script>
</head>

<body>
    <div id="vast">
        <a class="fp-prev" title="previous">&lt;</a>
        <a class="fp-next" title="next">&gt;</a>
    </div>
    <div class="info">
        <p>1. DFP trueview pre-roll, DFP overlay 10 seconds in</p>
        <p>2. DFP AdRules trial</p>
    </div>
    <h3>Log</h3>
    <div id="log"></div>
    <script>
    window.onload = function() {

        var log = function(e) {
            var el = document.createElement("p"),
                date = new Date(e.timeStamp / 1000);

            el.innerHTML = e.type + " " + date.toString();
            document.getElementById("log").appendChild(el);
        };


        flowplayer("#vast", {
            splash: true,
            bgcolor: "#333333",
            ratio: 9 / 16,

            // interactive media ads player config
            ima: {
                // debug
                events: {
                    onAdStarted: log,
                    onAdClicked: log,
                    onAdClosed: log,
                    onAdSkipped: log,
                    onAdPaused: log,
                    onAdCompleted: log,
                    onAdAllCompleted: log,
                    onAdError: log
                }
            },

            playlist: [{
                // interactive media ads 1st clip config
                ima: {
                    ads: [{
                        time: 0,
                        adTag: "https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/48717572/fp-preroll-skippable&ciu_szs&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=[referrer_url]&description_url=https%3A%2F%2Fflowplayer.org&correlator=[timestamp]"
                    }, {
                        time: 10,
                        adTag: "https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/48717572/fp-overlay&ciu_szs&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=[referrer_url]&description_url=https%3A%2F%2Fflowplayer.org&correlator=[timestamp]"
                    }],

                },

                sources: [{
                    type: "application/x-mpegurl",
                    src: "http://stream.flowplayer.org/drive.m3u8"
                }, {
                    type: "video/webm",
                    src: "http://stream.flowplayer.org/drive.webm"
                }, {
                    type: "video/mp4",
                    src: "http://stream.flowplayer.org/drive.mp4"
                }]

            }, {
                // interactive media ads 2nd clip config
                ima: {
                    adRules: "https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/15018773/everything2&ciu_szs=300x250,468x60,728x90&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&cmsid=133&vid=10XWSh7W4so&ad_rule=1"
                },

                sources: [{
                    type: "application/x-mpegurl",
                    src: "http://stream.flowplayer.org/FlowplayerHTML5forWordPress.m3u8"
                }, {
                    type: "video/webm",
                    src: "http://stream.flowplayer.org/FlowplayerHTML5forWordPress.webm"
                }, {
                    type: "video/mp4",
                    src: "http://stream.flowplayer.org/FlowplayerHTML5forWordPress.mp4"
                }]
            }]
        });

    };
    </script>
</body>

</html>
